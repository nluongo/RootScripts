import ROOT
from ROOT import TGraph, TGraph2D, TCanvas, TText
import numpy as np

c1 = TCanvas("c1", "Graph Draw Options", 200, 10, 600, 400)


# efficiencies = np.array([[0.        , 0.20353114, 0.20353114, 0.20353114, 0.20353114, 0.20353114
#  , 0.20353114, 0.20353114, 0.20353114, 0.20353114, 0.20353114],
#  [0.72976949, 0.20304071, 0.17533104, 0.17582148, 0.1814615 , 0.18464934
#  , 0.18563021, 0.19347719, 0.19445807, 0.19641981, 0.20034331],
#  [0.72976949, 0.26164787, 0.20304071, 0.18048063, 0.17533104, 0.17410495
#  , 0.17582148, 0.1787641 , 0.1814615 , 0.18317803, 0.18464934],
#  [0.72976949, 0.30456106, 0.23271211, 0.20304071, 0.18636587, 0.17680235
#  , 0.17533104, 0.17263364, 0.17582148, 0.17582148, 0.17704757],
#  [0.72976949, 0.35458558, 0.26164787, 0.21971555, 0.20304071, 0.19053458
#  , 0.18048063, 0.17582148, 0.17533104, 0.17091712, 0.17410495],
#  [0.72976949, 0.39063266, 0.27832271, 0.2351643 , 0.21456596, 0.20304071
#  , 0.19298676, 0.18391368, 0.18072585, 0.17925454, 0.17533104],
#  [0.72976949, 0.41760667, 0.30456106, 0.26164787, 0.23271211, 0.21137813
#  , 0.20304071, 0.19421285, 0.18636587, 0.18048063, 0.17680235],
#  [0.72976949, 0.44654242, 0.33545856, 0.27096616, 0.24129475, 0.22167729
#  , 0.21113291, 0.20304071, 0.19470329, 0.18906327, 0.18268759],
#  [0.72976949, 0.46738597, 0.35458558, 0.29082884, 0.26164787, 0.23393821
#  , 0.21971555, 0.20843551, 0.20304071, 0.19543894, 0.19053458],
#  [0.72976949, 0.48675821, 0.37322217, 0.30456106, 0.26630701, 0.24668955
#  , 0.23271211, 0.21652771, 0.20745463, 0.20304071, 0.198872],
#  [0.72976949, 0.5026974 , 0.39063266, 0.32466896, 0.27832271, 0.26164787
#  , 0.2351643 , 0.22437469, 0.21456596, 0.20720942, 0.20304071]])
# 
# 
# x = []
# for i in range(11):
#     for j in range(11):
#         x.append(float(0.2 * i))
# x = np.array(x)
# print(x)
# y = [float(0.2 * (x%11)) for x in range(121)]
# y = np.array(y)
# print(y)
# 
# z = efficiencies.flatten()
# print(z)
#
# gr = TGraph2D(121, x, y, z)
# gr.Draw('surf1')
# gr.SetTitle('Background Efficiency @ 90% Signal Efficiency vs. Two-Layer Weighting; L0+L1Et Weights; L2+L3+Had Weights')
# gr.GetHistogram().GetXaxis().SetTitleOffset(1.8)
# 
# c1.SetPhi(120.)
# c1.Print('ManualTrain2DPlot.pdf')


efficiencies = np.array([0.61982071 , 0.50952222 , 0.4222219  , 0.36839056 , 0.30896899 , 0.27193732
 , 0.25927964 , 0.23612217 , 0.21578879 , 0.21326884 , 0.20385523 , 0.20045185
 , 0.19290649 , 0.18672247 , 0.18365219 , 0.18142189 , 0.18132051 , 0.17451375
 , 0.17016901 , 0.17106692 , 0.1655491  , 0.16580979 , 0.16147953 , 0.16242089
 , 0.15978508 , 0.16062506 , 0.15703341 , 0.15743892 , 0.15793132 , 0.15855407
 , 0.15884372 , 0.15849614 , 0.15824994 , 0.15639618 , 0.15558516 , 0.15373141
 , 0.15338383 , 0.15145766 , 0.15171834 , 0.14867703 , 0.14476676 , 0.1448971
 , 0.14360816 , 0.14378195 , 0.14278266 , 0.14263784 , 0.1401903  , 0.139611
 , 0.13882895 , 0.13752553 , 0.13758346 , 0.13694623 , 0.13648279 , 0.13648279
 , 0.13652623 , 0.13659865 , 0.13665658 , 0.13671451 , 0.136309   , 0.13636693
 , 0.13645382 , 0.13649727 , 0.13652623 , 0.13654072 , 0.13656968 , 0.13662761
 , 0.13620762 , 0.13542557 , 0.13332561 , 0.13332561 , 0.12974844 , 0.1293719
 , 0.12898087 , 0.12899535 , 0.12900983 , 0.12902432 , 0.12902432 , 0.12902432
 , 0.12902432 , 0.12902432 , 0.12902432 , 0.12902432 , 0.12902432 , 0.12853191
 , 0.12782227 , 0.12782227 , 0.12782227 , 0.12782227 , 0.12782227 , 0.12782227
 , 0.12782227 , 0.12783675 , 0.12783675 , 0.12785124 , 0.12785124 , 0.12785124
 , 0.12785124 , 0.12785124 , 0.12785124 , 0.12785124 , 0.12785124])

x = np.array([float(0.1 * i) for i in range(101)])

gr = TGraph(101, x, efficiencies)

txt1 = TText(.4, .85, 'L0+L1 Weight = 1')
txt1.SetTextSize(0.03)
txt1.SetTextFont(42)
txt1.SetNDC()

txt2 = TText(.4, .8, 'L2+L3 Weight = 1.3')
txt2.SetTextSize(0.03)
txt2.SetTextFont(42)
txt2.SetNDC()

txt3 = TText(.4, .75, 'Minimum efficiency at hadronic weight = 8.4')
txt3.SetTextSize(0.03)
txt3.SetTextFont(42)
txt3.SetNDC()

txt4 = TText(.4, .7, 'Reducing hadronic weight to 4.9 increases efficiency by 1%')
txt4.SetTextSize(0.03)
txt4.SetTextFont(42)
txt4.SetNDC()

gr.Draw()
gr.SetTitle('Background Efficiency at 90% Signal Efficiency vs. Hadronic Weight')
gr.GetXaxis().SetTitle('Hadronic Layer Weight')
gr.GetYaxis().SetTitle('Background Efficiency')

txt1.Draw()
txt2.Draw()
txt3.Draw()
txt4.Draw()

c1.Print('ManualTrainVaryHad.pdf')
